# Bastion server

Роль для развёртывания приложения bastion-server и его базы данных в контейнерах.

## Требования

На целевом хосте должен быть установлен Доскер.

## Переменные

Обязательные переменные:

* `version`: версия образа, которая должна быть развёрнута
* `servicepoint`: имя хоста, по которому будет доступно приложение. Должно резолвиться в адрес интерфейса на целевом хосте
* `oidc_secret`: секрет для аутентификации на сервере авторизации

Переменные, значение которых задано в `defaults`, и может быть изменено:

* `docker-repository`: адрес Доскер-репозитория
* `dsn-user`: имя пользователя для доступа к базе данных
* `dsn-password`: пароль доступа к базе данных
* `dsn-database`: название базы данных
* `exposed-database-port`: порт на хосте, на который экспонируется порт доступа к БД в контейнере
* `exposed-server-port`:  порт на хосте, на который экспонируется порт доступа к приложению в контейнере
